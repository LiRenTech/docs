# git相关规范

## 建议

建议 vscode 使用 GitGraph 插件，这样可以直观的看到分支合并图、节点图。





## git commit 标题标签

好的标题标签应该有以下特征：

1. 见名知意
2. 不易拼错、简短
3. 尽量不重叠（减少纠结，如果重叠了，也应该给出一个优先级排序）



必须以下标签单词开头并+英文冒号+一个空格，后面再写内容

同时以下顺序按优先级从高到低排序，例如认为一个提交标题标签既可以用feat，也可以用perf时，用feat。



add: 增加新技术和新框架，尤其是前端，经常增加新的库和框架在项目中，（这个是Littlefean观察CannonWar仓库提交列表时想到的，add标题出现往往能够提醒其他人，要安装新的库了，否则项目可能跑不起来，所以这个优先级也最高），例如 `add: electron`，`add: vite`。

remove：移除某个技术和使用了的框架，是一个比较大的更新，因为refactor可能过于泛滥。 例如：`remove: flask`，代表该后端项目不再使用flask了，可能要换成fastapi了。如果删除flask和增加fastapi是在一个提交中发生的，那么应该使用优先级更高的add。

以上两个可能涉及到其他人重新安装库，改动比较大，所以特殊给出来两个标签。至于这两个标签是否还有更不容易拼错的好名字代替，暂时还没想到，目前的缺点是这两个单词可能过于简单普通了。

---



feat：新功能

doc：注释更新和增加、README更新、或者项目文件夹里面的文档文件更新、或者项目里面的用于显示在界面上的字符串更新、或者翻译文件更新、想法灵感todo的更新、其他规范中可能是docs，这里之所以少写一个是因为最开始已经形成习惯了。

fix：修复某个东西

refactor：不加新功能，替换变量名、文件名、代码结构改变、更换设计模式、面向对象结构

format：格式化代码，可以直接写一个 format code，表示用 pnpm format 统一刷了一下格式。有的地方用 style，但个人觉得style会和前端的修改style文件弄混，所以用format更合适一些。

perf：优化用户体验，包括性能速度体验、交互和视觉体验。如果是增加音效，虽然也算是优化交互体验，但应该优先使用feat，因为上面的优先级更高。注意是用户的体验，不是开发者对代码可读性的体验，这个是refactor或者doc的范畴。

test：增加测试代码，不一定非得是单元测试，在某个地方的小测试也可以算，或者为了测试github流水线而push一下也可以用这个开头。

media: 增加或者修改媒体文件，尤其是在前端项目和游戏项目里面，包括修改图片、音频、视频。（有待改进和扩展成一切二进制和硬附件文件）

prepare: 准备要重构或者新增功能，或者要干某个比较大的事情，冒号后面可以写准备xxx。这个是Littlefean独创的，因为某个大改动之前可能最好先有一个明确的可以随时回退至此的节点。

stop: 不干了，push一下保存一下。

> media似乎和perf有重复和交集，一旦有交叠，就可能会产生纠结。这个是日后还有待思考的地方。最好的命名规范是不产生重复的。



代码合并时会有自动的commit标题，保持默认给的标题就可以

### 定式标题

init the project：初始化项目，往往是第一个。

format code: 统一刷了一下格式。

add electron：增加了某项新技术，以add开头即可。add vite

remove dead code：删除没有用的代码

update gitignore: 更新忽略文件

### 应该改正的

`add todos -> doc: add todos`





以上仅为littlefean在2024.7的个人提交规范。每次写都是在控制台里写的，偶尔不知道为什么有时候中文输入法输入不了了，被迫使用英文。

曾经在2023年尝试过一段时间的gitmoji，用emoji图标的方式代替那些英文标签，但后面都没在用了。

可能英文更方便检索一些吧。







